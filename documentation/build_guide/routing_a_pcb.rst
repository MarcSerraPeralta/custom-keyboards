Routing
=======

This is not automatically done by Ergogen and needs to be done manually.
Nevertheless, the files generated by Ergogen can tell you which pin needs
to be connected to which other pin.


Tracks size
-----------

"The Grid: drop down at the top of the page is defaulting to 0.2540mm. 
(In other words, 0.01 of an inch.) We need something considerably smaller.
I personally like working with 0.2mm. It's small enough that you can flexibly 
route your board, but still on enough of a grid that aligning things doesn't 
become a nightmare. Feel free to experiment and see what works best for you."
-- https://flatfootfox.com/ergogen-part5-kicad-firmware-assembly/


Routing SMDs
------------

**What does SMD mean?**
One last note on routing basics is the difference between "surface mount device"
SMD pads and "through hole" pins. 
SMD pads are usually a square that goes on top of the PCB, but "through hole"
things have some legs that need to go through the PCB. 

SMD pads are only exposed on one side of the 
board, so your trace needs to connect to it on the same side.
This means that if one wants all the SMD diodes to be soldered on the same
side of the PCB, one needs to route all the SMD pads on the same side.
By default (given in the footprint), Ergogen places all the SMD diodes on the
both sides of the PCB. One can see that when opening the file with KiCAD and 
seeing that all the SMD pads for the diodes have two colors, and thus
will appear in both the "Front Copper" and "Back Copper" layers.


Routing GNDs
------------
"You'll notice all of the GND ground pins routed together here. 
They're technically connected together internally on the microcontroller,
so these traces are not strictly necessary. However, I've totally botched a 
header pin on a microcontroller in the past, so it's always nice to not have 
to rely on a single pinout if you don't need to."
-- https://flatfootfox.com/ergogen-part5-kicad-firmware-assembly/


Adding graphical elements to the PCB
------------------------------------

Traces are always routed on the F.cu and B.cu layers, but you can use the other 
tools (lines, arcs, circles, text, etc.) to add elements to the other layers.
Anything on the F.Silkscreen and B.Silkscreen layers will be drawn as a graphic 
on your board, and Edge.Cuts defines the physical edges of your PCB.


Cheking the routed tracks
-------------------------

... Software to check that your routing is correct and does not have any
possible issues/warnings...

Design Rule Checker (DRC) is available in KiCAD


Exporting the files to Gerbers
------------------------------

"KiCAD and other software generally use their own propriety file formats.
While some PCB manufacturers will allow you to upload a KiCAD or EAGLE file,
most prefer it you instead use "Gerber" files. Gerbers have been the common 
standard for plotting and drilling machines since time immemorial.
They're plain text files that are conceptually similar to PDFs.
The trick with Gerber files is that's it's Gerbers. Plural. Each layer of 
your PCB needs its own specific Gerber file. In practice this isn't too tricky.
Each layer has a specific file name convention which KiCAD does for us automatically.
All you have to do is point KiCAD at a folder and then zip the exports afterwards.
Because nothing's every completely straightforward in KiCAD, there's also a 
separate "Drill" file you need to include in the zip. Thankfully these aren't 
hard to export either, but it is an extra step."
-- https://flatfootfox.com/ergogen-part5-kicad-firmware-assembly/

In KiCAD, one needs to run both "Plot" and "Generate Drill Files" to get all the 
information needed to get the PCB built.
